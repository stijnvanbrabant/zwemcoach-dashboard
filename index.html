<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Zwemcoach Dashboard ‚Äî C/D Groep</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #07111f;
  --surface: rgba(255,255,255,0.04);
  --surface2: rgba(255,255,255,0.07);
  --border: rgba(255,255,255,0.08);
  --text: #e8edf5;
  --muted: rgba(232,237,245,0.45);
  --cyan: #00c8ff;
  --purple: #a78bfa;
  --orange: #fb923c;
  --green: #34d399;
  --red: #f87171;
  --gold: #fbbf24;
  --C-color: #00c8ff;
  --D-color: #a78bfa;
  --old-color: #fb923c;
}
* { margin:0; padding:0; box-sizing:border-box; }
body { background:var(--bg); color:var(--text); font-family:'DM Sans',sans-serif; font-size:14px; display:flex; height:100vh; overflow:hidden; }

/* SIDEBAR */
.sidebar {
  width:240px; flex-shrink:0; background:rgba(0,0,0,0.3); border-right:1px solid var(--border);
  display:flex; flex-direction:column; overflow:hidden;
}
.logo { padding:20px 16px 16px; border-bottom:1px solid var(--border); }
.logo h1 { font-family:'Bebas Neue',sans-serif; font-size:22px; letter-spacing:2px; color:var(--cyan); line-height:1; }
.logo small { color:var(--muted); font-size:11px; display:block; margin-top:4px; }

.nav-section { padding:12px 8px 4px; }
.nav-label { font-size:10px; text-transform:uppercase; letter-spacing:1.5px; color:var(--muted); padding:0 8px 6px; }
.nav-btn {
  width:100%; text-align:left; background:none; border:none; color:var(--muted);
  padding:8px 12px; border-radius:8px; cursor:pointer; font-family:inherit; font-size:13px;
  display:flex; align-items:center; gap:8px; transition:all .15s; margin-bottom:2px;
}
.nav-btn:hover { background:var(--surface2); color:var(--text); }
.nav-btn.active { background:rgba(0,200,255,0.12); color:var(--cyan); }
.nav-btn .icon { width:16px; text-align:center; font-size:13px; }

.swimmer-list { flex:1; overflow-y:auto; padding:8px; }
.swimmer-list::-webkit-scrollbar { width:4px; }
.swimmer-list::-webkit-scrollbar-thumb { background:var(--border); border-radius:2px; }
.group-header { font-size:10px; text-transform:uppercase; letter-spacing:1.5px; padding:8px 8px 4px; color:var(--muted); }
.swimmer-item {
  display:flex; align-items:center; gap:8px; padding:7px 10px; border-radius:8px;
  cursor:pointer; transition:all .15s; margin-bottom:1px;
}
.swimmer-item:hover { background:var(--surface2); }
.swimmer-item.active { background:rgba(167,139,250,0.12); }
.swimmer-avatar {
  width:28px; height:28px; border-radius:50%; display:flex; align-items:center; justify-content:center;
  font-size:11px; font-weight:700; flex-shrink:0; letter-spacing:0.5px;
}
.swimmer-name { font-size:13px; font-weight:500; flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.gender-badge { font-size:10px; flex-shrink:0; }

/* MAIN */
.main { flex:1; overflow:hidden; display:flex; flex-direction:column; }
.topbar { height:56px; border-bottom:1px solid var(--border); display:flex; align-items:center; padding:0 24px; gap:16px; flex-shrink:0; background:rgba(0,0,0,0.2); }
.topbar h2 { font-family:'Bebas Neue',sans-serif; font-size:20px; letter-spacing:1px; }
.topbar-meta { color:var(--muted); font-size:12px; margin-left:auto; }

.content { flex:1; overflow-y:auto; padding:24px; }
.content::-webkit-scrollbar { width:6px; }
.content::-webkit-scrollbar-thumb { background:var(--border); border-radius:3px; }

/* PAGES */
.page { display:none; }
.page.active { display:block; }

/* STATS CARDS */
.stats-row { display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); gap:12px; margin-bottom:24px; }
.stat-card {
  background:var(--surface); border:1px solid var(--border); border-radius:12px; padding:16px;
  display:flex; flex-direction:column; gap:4px;
}
.stat-num { font-family:'Bebas Neue',sans-serif; font-size:36px; line-height:1; }
.stat-label { font-size:11px; color:var(--muted); text-transform:uppercase; letter-spacing:1px; }

/* SWIMMER CARDS */
.section-title { font-family:'Bebas Neue',sans-serif; font-size:18px; letter-spacing:1px; margin-bottom:12px; }
.section-title .badge { font-family:'DM Sans',sans-serif; font-size:11px; letter-spacing:0; font-weight:600; padding:3px 8px; border-radius:20px; margin-left:8px; vertical-align:middle; }
.swimmers-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); gap:12px; margin-bottom:28px; }
.swimmer-card {
  background:var(--surface); border:1px solid var(--border); border-radius:12px; padding:16px;
  cursor:pointer; transition:all .2s; position:relative; overflow:hidden;
}
.swimmer-card::before { content:''; position:absolute; top:0; left:0; right:0; height:3px; }
.swimmer-card.C::before { background:var(--C-color); }
.swimmer-card.D::before { background:var(--D-color); }
.swimmer-card.O::before { background:var(--old-color); }
.swimmer-card:hover { background:var(--surface2); transform:translateY(-1px); border-color:rgba(255,255,255,0.15); }
.card-header { display:flex; align-items:center; gap:10px; margin-bottom:12px; }
.card-avatar { width:36px; height:36px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:13px; font-weight:700; flex-shrink:0; }
.card-name { font-weight:600; font-size:14px; }
.card-sub { font-size:11px; color:var(--muted); }
.pb-list { display:flex; flex-direction:column; gap:4px; }
.pb-row { display:flex; justify-content:space-between; align-items:center; }
.pb-stroke { font-size:12px; color:var(--muted); }
.pb-time { font-size:12px; font-weight:600; font-family:'DM Mono', monospace; }
.pb-pool { font-size:10px; color:var(--muted); margin-left:4px; }

/* TEAM TIJDEN */
.filters { display:flex; gap:12px; margin-bottom:20px; flex-wrap:wrap; align-items:center; }
.filter-label { font-size:12px; color:var(--muted); }
select, .filter-btn {
  background:var(--surface2); border:1px solid var(--border); color:var(--text); padding:7px 12px;
  border-radius:8px; font-family:inherit; font-size:13px; cursor:pointer; outline:none;
}
select:focus { border-color:var(--cyan); }
.filter-btn { cursor:pointer; transition:all .15s; }
.filter-btn.active { background:rgba(0,200,255,0.15); border-color:var(--cyan); color:var(--cyan); }
.filter-btn:hover { background:var(--surface2); }

.times-table { width:100%; border-collapse:collapse; }
.times-table th { font-size:11px; text-transform:uppercase; letter-spacing:1px; color:var(--muted); padding:8px 12px; text-align:left; border-bottom:1px solid var(--border); white-space:nowrap; }
.times-table td { padding:10px 12px; border-bottom:1px solid rgba(255,255,255,0.04); vertical-align:middle; }
.times-table tr:hover td { background:var(--surface); }
.times-table tr.rank-1 td { background:rgba(251,191,36,0.06); }
.rank { font-size:13px; color:var(--muted); width:30px; }
.rank-1 .rank { color:var(--gold); font-weight:700; }
.swimmer-link { cursor:pointer; font-weight:500; }
.swimmer-link:hover { color:var(--cyan); }
.time-cell { font-family:'DM Mono',monospace; font-size:13px; font-weight:600; }
.vs-cell { font-size:12px; color:var(--muted); }
.prog-bar { width:100%; height:4px; background:rgba(255,255,255,0.08); border-radius:2px; }
.prog-fill { height:100%; border-radius:2px; transition:width .3s; }

/* KALENDER */
.calendar-grid { display:flex; flex-direction:column; gap:10px; }
.wed-card {
  background:var(--surface); border:1px solid var(--border); border-radius:12px; overflow:hidden;
}
.wed-header {
  display:flex; align-items:center; gap:14px; padding:14px 16px; cursor:pointer; transition:background .15s;
}
.wed-header:hover { background:var(--surface2); }
.wed-date-box {
  width:48px; height:48px; border-radius:8px; display:flex; flex-direction:column;
  align-items:center; justify-content:center; flex-shrink:0; font-weight:700;
}
.wed-date-box .day { font-family:'Bebas Neue',sans-serif; font-size:22px; line-height:1; }
.wed-date-box .mon { font-size:10px; text-transform:uppercase; letter-spacing:1px; }
.wed-info { flex:1; }
.wed-title { font-weight:600; font-size:14px; }
.wed-meta { font-size:12px; color:var(--muted); margin-top:2px; }
.wed-badge { font-size:11px; font-weight:600; padding:4px 10px; border-radius:20px; flex-shrink:0; }
.wed-badge.m25 { background:rgba(0,200,255,0.12); color:var(--cyan); }
.wed-badge.m50 { background:rgba(251,146,60,0.12); color:var(--orange); }
.wed-badge.future { background:rgba(52,211,153,0.12); color:var(--green); }
.wed-toggle { color:var(--muted); font-size:12px; transition:transform .2s; }
.wed-toggle.open { transform:rotate(180deg); }
.wed-detail { display:none; border-top:1px solid var(--border); overflow-x:auto; }
.wed-detail.open { display:block; }
.wed-table { width:100%; border-collapse:collapse; min-width:400px; }
.wed-table th { font-size:11px; text-transform:uppercase; letter-spacing:1px; color:var(--muted); padding:8px 12px; text-align:left; border-bottom:1px solid var(--border); background:rgba(0,0,0,0.2); }
.wed-table td { padding:8px 12px; border-bottom:1px solid rgba(255,255,255,0.03); font-size:13px; }
.wed-table tr:last-child td { border-bottom:none; }
.pb-marker { color:var(--gold); font-size:10px; margin-left:4px; }

/* ZWEMMER DETAIL */
.back-btn { display:inline-flex; align-items:center; gap:6px; background:none; border:1px solid var(--border); color:var(--muted); padding:6px 12px; border-radius:8px; cursor:pointer; font-family:inherit; font-size:13px; margin-bottom:20px; transition:all .15s; }
.back-btn:hover { border-color:var(--text); color:var(--text); }
.detail-header { display:flex; align-items:center; gap:20px; margin-bottom:24px; padding:20px; background:var(--surface); border:1px solid var(--border); border-radius:14px; }
.detail-avatar { width:64px; height:64px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:22px; font-weight:700; flex-shrink:0; }
.detail-name { font-family:'Bebas Neue',sans-serif; font-size:32px; letter-spacing:1px; line-height:1; }
.detail-chips { display:flex; gap:8px; margin-top:6px; flex-wrap:wrap; }
.chip { font-size:11px; font-weight:600; padding:3px 9px; border-radius:20px; }
.chip.group-C { background:rgba(0,200,255,0.12); color:var(--cyan); }
.chip.group-D { background:rgba(167,139,250,0.12); color:var(--purple); }
.chip.group-O { background:rgba(251,146,60,0.12); color:var(--orange); }
.chip.female { background:rgba(249,168,212,0.15); color:#f9a8d4; }
.chip.male { background:rgba(147,197,253,0.15); color:#93c5fd; }
.detail-stats { display:grid; grid-template-columns:repeat(auto-fit,minmax(120px,1fr)); gap:10px; margin-left:auto; }
.detail-stat { text-align:center; }
.detail-stat-num { font-family:'Bebas Neue',sans-serif; font-size:28px; line-height:1; }
.detail-stat-label { font-size:11px; color:var(--muted); text-transform:uppercase; letter-spacing:0.8px; }

.pb-section { margin-bottom:24px; }
.pb-title { font-family:'Bebas Neue',sans-serif; font-size:16px; letter-spacing:1px; margin-bottom:10px; color:var(--muted); }
.pb-full-table { width:100%; border-collapse:collapse; }
.pb-full-table th { font-size:11px; text-transform:uppercase; letter-spacing:1px; color:var(--muted); padding:8px 12px; text-align:left; border-bottom:1px solid var(--border); }
.pb-full-table td { padding:9px 12px; border-bottom:1px solid rgba(255,255,255,0.04); font-size:13px; }
.pb-full-table .best { color:var(--gold); font-weight:700; }
.time-mono { font-family:'DM Mono',monospace; font-weight:600; }

.comp-history { background:var(--surface); border:1px solid var(--border); border-radius:12px; overflow:hidden; }
.comp-history-title { font-family:'Bebas Neue',sans-serif; font-size:16px; letter-spacing:1px; padding:14px 16px; border-bottom:1px solid var(--border); color:var(--muted); }
.comp-table { width:100%; border-collapse:collapse; }
.comp-table th { font-size:11px; text-transform:uppercase; letter-spacing:1px; color:var(--muted); padding:8px 12px; text-align:left; border-bottom:1px solid var(--border); background:rgba(0,0,0,0.2); }
.comp-table td { padding:8px 12px; border-bottom:1px solid rgba(255,255,255,0.04); font-size:13px; }
.comp-table tr:last-child td { border-bottom:none; }

/* CHIPS/BADGES */
.badge-25 { font-size:10px; font-weight:600; padding:2px 7px; border-radius:10px; background:rgba(0,200,255,0.1); color:var(--cyan); }
.badge-50 { font-size:10px; font-weight:600; padding:2px 7px; border-radius:10px; background:rgba(251,146,60,0.1); color:var(--orange); }

/* ANIMATIONS */
@keyframes fadeIn { from{opacity:0;transform:translateY(8px)} to{opacity:1;transform:translateY(0)} }
.page.active { animation:fadeIn .2s ease; }

/* Monospace font fallback */
@import url('https://fonts.googleapis.com/css2?family=DM+Mono:wght@400;500&display=swap');
</style>
</head>
<body>

<div class="sidebar">
  <div class="logo">
    <h1>ZWEMCOACH</h1>
    <small>C/D Groep ¬∑ Seizoen 2025-2026</small>
  </div>

  <div class="nav-section">
    <div class="nav-label">Navigatie</div>
    <button class="nav-btn active" onclick="showPage('overview')" id="nav-overview">
      <span class="icon">‚ó´</span> Overzicht
    </button>
    <button class="nav-btn" onclick="showPage('tijden')" id="nav-tijden">
      <span class="icon">‚è±</span> Team Tijden
    </button>
    <button class="nav-btn" onclick="showPage('kalender')" id="nav-kalender">
      <span class="icon">üìÖ</span> Wedstrijdkalender
    </button>
  </div>

  <div class="nav-section">
    <div class="nav-label">Zwemmers</div>
  </div>
  <div class="swimmer-list" id="swimmer-list"></div>
</div>

<div class="main">
  <div class="topbar">
    <h2 id="page-title">Overzicht</h2>
    <span class="topbar-meta" id="topbar-meta">16 zwemmers ¬∑ Seizoen 2025-2026</span>
  </div>
  <div class="content">
    <div id="page-overview" class="page active"></div>
    <div id="page-tijden" class="page"></div>
    <div id="page-kalender" class="page"></div>
    <div id="page-detail" class="page"></div>
  </div>
</div>

<script>
const SWIMMERS = [{"name":"F√©line","birth_year":2016,"gender":"V","pbs_25":{"50 VR":"0:37.77","100 VR":"1:22.41","200 VR":"3:15.35","400 VR":"6:38.92","50 SS":"0:53.10","100 SS":"1:43.31","50 RG":"0:44.58","100 RG":"1:36.44","50 VL":"0:45.48","100 WS":"1:32.18"},"pbs_50":{"50 VR":"0:40.39","100 VR":"1:27.11","100 SS":"1:47.90","50 RG":"0:45.82","100 RG":"1:46.60"},"wed_25":{"2025-10-05":{"100 VR":"1:32.22","100 SS":"1:49.50","100 RG":"1:42.09","100 WS":"1:42.53"},"2025-11-23":{"400 VR":"6:38.92"},"2025-12-21":{"50 VR":"0:37.77","50 RG":"0:44.58","100 RG":"1:36.44"},"2026-01-25":{"100 SS":"1:43.31","50 VL":"0:45.48"},"2026-02-08":{"100 VR":"1:22.41","100 WS":"1:32.18"},"2026-02-22":{},"2026-02-28":{}},"wed_50":{"2025-11-11":{"100 VR":"1:27.11","100 SS":"1:47.90"},"2026-04-06":{},"2026-05-24":{},"2026-06-27":{}}},{"name":"Jade","birth_year":2016,"gender":"V","pbs_25":{"50 VR":"0:42.64","100 VR":"1:31.95","400 VR":"7:03.44","50 SS":"0:53.10","100 SS":"1:45.05","200 SS":"3:49.15","50 RG":"0:48.37","100 RG":"1:41.88","100 WS":"1:38.95"},"pbs_50":{"100 VR":"1:34.64","50 SS":"0:51.42","100 SS":"1:49.74","50 RG":"0:46.48"},"wed_25":{"2025-10-05":{"100 SS":"1:50.61","100 RG":"1:41.88"},"2025-11-23":{"400 VR":"7:03.44"},"2025-12-21":{"100 VR":"1:31.95","100 SS":"1:45.05"},"2026-01-25":{},"2026-02-08":{"100 WS":"1:38.95"},"2026-02-22":{},"2026-02-28":{}},"wed_50":{"2025-11-11":{"100 VR":"1:34.64","100 SS":"1:49.74"},"2026-04-06":{},"2026-05-24":{},"2026-06-27":{}}},{"name":"Valerie","birth_year":2016,"gender":"V","pbs_25":{"100 VR":"1:20.11","50 SS":"0:57.22","100 SS":"1:50.62","50 RG":"0:48.25","100 RG":"1:44.31","100 WS":"1:32.45"},"pbs_50":{"50 VR":"0:43.18","100 VR":"1:32.86","50 SS":"0:55.36","100 SS":"1:51.90"},"wed_25":{"2025-10-05":{"100 SS":"1:52.57","100 RG":"1:44.31"},"2026-12-21":{"100 VR":"1:23.25","100 SS":"1:50.62"},"2026-02-08":{"100 VR":"1:20.11","100 WS":"1:32.45"},"2026-02-22":{},"2026-02-28":{}},"wed_50":{"2025-11-11":{"100 VR":"1:32.86","100 SS":"1:51.90"},"2026-04-06":{},"2026-05-24":{},"2026-06-27":{}}},{"name":"Lily","birth_year":2016,"gender":"V","pbs_25":{"50 VR":"0:38.77","100 VR":"1:22.95","200 VR":"3:20.64","400 VR":"6:49.44","50 SS":"0:57.81","100 SS":"1:47.80","50 RG":"0:40.51","100 RG":"1:39.12","50 VL":"0:44.05","100 WS":"1:44.22","200 WS":"3:36.09"},"pbs_50":{"50 VR":"0:40.66","100 VR":"1:27.78","50 SS":"0:53.56","100 SS":"1:53.32"},"wed_25":{"2025-10-05":{"100 VR":"1:35.25","100 SS":"1:55.94","100 RG":"1:44.64","100 WS":"1:44.22"},"2025-11-23":{"400 VR":"6:49.44"},"2025-12-21":{"50 VR":"0:38.77","50 RG":"0:44.61","100 RG":"1:39.12","200 WS":"3:36.09"},"2026-01-25":{"100 SS":"1:47.80","50 VL":"0:44.05"},"2026-02-08":{"100 VR":"1:22.95","50 RG":"0:40.51"},"2026-02-22":{},"2026-02-28":{}},"wed_50":{"2025-11-11":{"100 VR":"1:27.78","100 SS":"1:53.32"},"2026-04-06":{},"2026-05-24":{},"2026-06-27":{}}},{"name":"Eymen","birth_year":2016,"gender":"M","pbs_25":{"100 VR":"1:30.20","400 VR":"7:11.91","50 SS":"0:54.40","100 SS":"1:57.11","50 RG":"0:46.62","100 RG":"1:43.00","50 VL":"0:47.60","100 WS":"1:48.91"},"pbs_50":{"100 VR":"1:39.25","50 SS":"0:58.47","100 SS":"2:00.44","50 RG":"0:52.41","100 RG":"1:51.29"},"wed_25":{"2025-10-05":{"100 VR":"1:43.15","100 SS":"1:59.78","100 RG":"1:48.16","100 WS":"1:48.91"},"2025-11-23":{"400 VR":"7:11.91"},"2025-12-21":{"100 VR":"1:35.00","50 SS":"0:54.40","100 SS":"1:59.17","100 RG":"1:43.00"},"2026-01-25":{"100 SS":"1:57.11","50 VL":"0:47.60"},"2026-02-08":{"100 VR":"1:30.20","50 RG":"0:46.62"},"2026-02-22":{},"2026-02-28":{}},"wed_50":{"2025-11-11":{"100 VR":"1:39.25","100 SS":"2:00.44"},"2026-04-06":{},"2026-05-24":{},"2026-06-27":{}}},{"name":"Arthur","birth_year":2015,"gender":"M","pbs_25":{"50 VR":"0:39.12","100 VR":"1:34.04","400 VR":"6:55.80","50 SS":"1:00.66","100 SS":"2:02.12","100 RG":"1:50.41","200 RG":"3:23.06","100 WS":"1:44.85"},"pbs_50":{"100 VR":"1:29.48","200 VR":"3:28.41","100 SS":"1:57.99","100 RG":"1:44.72","50 VL":"0:46.61"},"wed_25":{"2025-10-05":{"100 VR":"1:36.82","100 WS":"1:44.85"},"2025-12-21":{"400 VR":"7:01.79"},"2026-02-08":{"50 VR":"0:39.12","200 RG":"3:23.06"},"2026-02-22":{},"2026-02-28":{}},"wed_50":{"2025-11-11":{"100 SS":"2:00.10","100 RG":"1:45.63"},"2026-02-01":{"100 VR":"1:29.48","100 SS":"1:57.99","100 RG":"1:44.72","50 VL":"0:46.61"},"2026-04-06":{},"2026-05-24":{},"2026-06-27":{}}},{"name":"Sander","birth_year":2016,"gender":"M","pbs_25":{"50 VR":"0:42.52","100 VR":"1:23.73","200 VR":"3:19.96","400 VR":"6:40.60","50 SS":"0:51.68","100 SS":"1:47.00","50 RG":"0:45.00","100 RG":"1:38.50","50 VL":"0:56.58","100 WS":"1:42.55","200 WS":"3:30.62"},"pbs_50":{"50 VR":"0:41.84","100 VR":"1:29.73","200 VR":"3:24.41","50 SS":"0:52.87","100 SS":"2:01.40","100 RG":"1:39.11"},"wed_25":{"2025-10-05":{"100 VR":"1:30.13","100 SS":"1:50.45","100 RG":"1:38.65","100 WS":"1:42.55"},"2025-11-23":{"400 VR":"6:40.60"},"2025-12-21":{"50 VR":"0:42.52","50 RG":"0:50.95","100 RG":"1:39.89","200 WS":"3:30.62"},"2026-01-25":{"100 SS":"1:47.00"},"2026-02-08":{"100 VR":"1:23.73","50 RG":"0:45.00"},"2026-02-22":{},"2026-02-28":{}},"wed_50":{"2025-11-11":{"100 VR":"1:29.73","100 RG":"1:39.11"},"2026-04-06":{},"2026-05-24":{},"2026-06-27":{}}},{"name":"Julian","birth_year":2016,"gender":"M","pbs_25":{"50 VR":"0:41.53","100 VR":"1:29.63","200 VR":"3:28.57","400 VR":"7:13.01","50 SS":"0:56.85","100 SS":"1:51.06","50 RG":"0:45.56","100 RG":"1:50.29","50 VL":"0:49.90","100 WS":"1:46.90"},"pbs_50":{"100 VR":"1:31.65","100 SS":"1:57.79"},"wed_25":{"2025-10-05":{"100 VR":"1:33.95","100 WS":"1:49.00"},"2025-11-23":{"400 VR":"7:13.01"},"2026-01-25":{"100 SS":"1:51.06","50 VL":"0:49.90"},"2026-02-08":{"100 VR":"1:29.63","50 RG":"0:45.56"},"2026-02-22":{},"2026-02-28":{}},"wed_50":{"2025-11-11":{"100 VR":"1:31.65","100 SS":"2:00.14"},"2026-04-06":{},"2026-05-24":{},"2026-06-27":{}}},{"name":"Liene","birth_year":2015,"gender":"V","pbs_25":{"50 VR":"0:36.09","100 VR":"1:39.02","200 VR":"3:11.27","400 VR":"7:05.37","50 SS":"0:52.68","100 SS":"1:50.72","50 RG":"0:44.76","100 RG":"1:40.07","200 RG":"3:18.22","100 WS":"1:33.96","200 WS":"3:35.38"},"pbs_50":{"100 VR":"1:38.94","100 SS":"1:56.43"},"wed_25":{"2025-10-05":{"100 SS":"1:50.72","100 RG":"1:42.17"},"2025-10-11":{"400 VR":"7:05.37"},"2025-11-23":{"400 VR":"7:11.41"},"2025-12-21":{"50 VR":"0:39.00","50 RG":"0:44.76","100 RG":"1:40.07","200 WS":"3:35.38"},"2026-01-25":{"200 VR":"3:11.27","100 WS":"1:33.96"},"2026-02-08":{"50 VR":"0:36.09","200 RG":"3:18.22"},"2026-02-22":{},"2026-02-28":{}},"wed_50":{"2025-11-11":{"100 VR":"1:38.94","100 SS":"1:56.43"},"2026-04-06":{},"2026-05-24":{},"2026-06-27":{}}},{"name":"Jesper","birth_year":2016,"gender":"M","pbs_25":{"50 VR":"0:42.71","100 VR":"1:26.41","400 VR":"7:16.37","50 SS":"0:58.87","100 SS":"2:01.09","50 RG":"0:41.77","100 RG":"1:39.41"},"pbs_50":{"50 VR":"0:42.80","100 VR":"1:37.91","100 RG":"1:43.09"},"wed_25":{"2025-10-05":{"100 VR":"1:40.66","100 SS":"2:01.09"},"2025-11-23":{"400 VR":"7:16.37"},"2025-12-21":{"50 VR":"0:42.71","100 VR":"1:36.70","100 SS":"2:04.79","100 RG":"1:39.41"},"2026-02-08":{"100 VR":"1:26.41","50 RG":"0:41.77"},"2026-02-22":{},"2026-02-28":{}},"wed_50":{"2025-11-11":{"100 VR":"1:37.91","100 RG":"1:43.09"},"2026-04-06":{},"2026-05-24":{},"2026-06-27":{}}},{"name":"Amber","birth_year":2017,"gender":"V","pbs_25":{"50 VR":"0:55.18","50 SS":"1:03.98"},"pbs_50":{"100 VR":"1:53.97"},"wed_25":{"2025-10-05":{},"2025-10-23":{},"2025-11-23":{},"2025-12-21":{},"2026-01-11":{},"2026-01-25":{},"2026-02-08":{},"2026-02-22":{},"2026-02-28":{}},"wed_50":{"2025-11-11":{"100 VR":"1:53.97","50 SS":"0:57.17"},"2026-04-06":{},"2026-05-24":{},"2026-06-27":{}}},{"name":"Tess","birth_year":2017,"gender":"V","pbs_25":{"50 VR":"0:49.19"},"pbs_50":{"50 VR":"0:50.88","100 VR":"1:48.30","50 SS":"0:59.62"},"wed_25":{"2025-10-05":{},"2025-10-23":{},"2025-11-23":{},"2025-12-21":{},"2026-01-11":{},"2026-01-25":{},"2026-02-08":{},"2026-02-22":{},"2026-02-28":{}},"wed_50":{"2025-11-11":{"100 VR":"1:48.30","50 SS":"0:59.62"},"2026-04-06":{},"2026-05-24":{},"2026-06-27":{}}},{"name":"Lina","birth_year":2017,"gender":"V","pbs_25":{"50 VR":"0:47.87","50 SS":"0:59.95"},"pbs_50":{"50 VR":"0:47.97","100 VR":"1:41.78","50 SS":"1:06.03"},"wed_25":{"2025-10-05":{},"2025-10-23":{},"2025-11-23":{},"2025-12-21":{},"2026-01-11":{},"2026-01-25":{},"2026-02-08":{},"2026-02-22":{},"2026-02-28":{}},"wed_50":{"2025-11-11":{"100 VR":"1:41.78","50 SS":"1:06.03"},"2026-04-06":{},"2026-05-24":{},"2026-06-27":{}}},{"name":"Fotini","birth_year":2013,"gender":"V","pbs_25":{"400 VR":"5:30.83","200 WS":"2:59.73"},"pbs_50":{},"wed_25":{"2024-10-06":{"100 VR":"1:20.89","50 RG":"0:43.46","200 WS":"3:19.55"},"2024-11-24":{"200 VR":"2:48.23","200 WS":"3:10.88"},"2024-12-22":{"50 VR":"0:33.59","400 VR":"5:44.92"}},"wed_50":{}},{"name":"Janne","birth_year":2014,"gender":"V","pbs_25":{"400 VR":"5:56.37","200 WS":"3:14.77"},"pbs_50":{},"wed_25":{"2024-10-06":{"100 VR":"1:23.72","100 SS":"1:46.12","100 RG":"1:30.00","100 WS":"1:32.98"},"2024-10-19":{"400 VR":"6:28.89"},"2024-11-24":{"200 WS":"3:20.13"},"2024-12-22":{"400 VR":"6:21.25","50 RG":"0:40.53"}},"wed_50":{"2024-10-27":{"400 VR":"6:40.63"},"2024-11-11":{"100 SS":"1:51.17","100 RG":"1:32.03"}}},{"name":"Yesse","birth_year":2013,"gender":"V","pbs_25":{"400 VR":"5:29.44","200 WS":"2:56.38"},"pbs_50":{"400 VR":"5:29.44","200 WS":"2:56.38"},"wed_25":{"2024-10-06":{"100 VR":"1:26.04","400 VR":"6:16.39","100 VL":"1:35.67"},"2024-10-20":{"50 VR":"0:37.12","400 VR":"6:11.07","50 SS":"0:49.89","50 RG":"0:41.50","100 RG":"1:29.93","100 VL":"1:34.20"},"2024-11-24":{"200 WS":"3:11.68"},"2024-12-22":{"400 VR":"5:40.27","50 VL":"0:38.97","200 WS":"3:02.66"}},"wed_50":{}}];

const TODAY = new Date('2026-02-20');

function getGroup(sw) {
  if (sw.birth_year === 2017) return 'D';
  if (sw.birth_year >= 2015 && sw.birth_year <= 2016) return 'C';
  return 'O';
}
function getGroupColor(g) { return g==='C'?'var(--C-color)':g==='D'?'var(--D-color)':'var(--old-color)'; }
function getGroupLabel(g) { return g==='C'?'Groep C':g==='D'?'Groep D':'Ouder'; }
function initials(name) { return name.trim().split(' ').map(p=>p[0]).join('').substring(0,2).toUpperCase(); }

function parseTime(t) {
  if (!t) return Infinity;
  const p = t.split(':');
  if (p.length === 2) return parseInt(p[0])*60 + parseFloat(p[1]);
  return Infinity;
}
function fmtDate(d) {
  const dt = new Date(d);
  const days=['zo','ma','di','wo','do','vr','za'];
  const months=['jan','feb','mrt','apr','mei','jun','jul','aug','sep','okt','nov','dec'];
  return `${days[dt.getDay()]} ${dt.getDate()} ${months[dt.getMonth()]} ${dt.getFullYear()}`;
}
function fmtDateShort(d) {
  const dt = new Date(d);
  const months=['jan','feb','mrt','apr','mei','jun','jul','aug','sep','okt','nov','dec'];
  return {day: dt.getDate(), mon: months[dt.getMonth()], year: dt.getFullYear()};
}

function bestTime(sw, stroke) {
  const t25 = sw.pbs_25[stroke], t50 = sw.pbs_50[stroke];
  if (!t25 && !t50) return null;
  if (!t25) return {time:t50, pool:'50m'};
  if (!t50) return {time:t25, pool:'25m'};
  return parseTime(t25) <= parseTime(t50) ? {time:t25, pool:'25m'} : {time:t50, pool:'50m'};
}

// Build sidebar
function buildSidebar() {
  const list = document.getElementById('swimmer-list');
  const groups = {C:[], D:[], O:[]};
  SWIMMERS.forEach(sw => groups[getGroup(sw)].push(sw));
  const order = ['C','D','O'];
  const labels = {C:'Groep C (2015-2016)', D:'Groep D (2017)', O:'Ouder (2013-2014)'};
  let html = '';
  order.forEach(g => {
    if (!groups[g].length) return;
    html += `<div class="group-header">${labels[g]}</div>`;
    groups[g].forEach(sw => {
      const gc = getGroupColor(g);
      const genderIcon = sw.gender==='V'?'‚ôÄ':'‚ôÇ';
      html += `<div class="swimmer-item" id="si-${sw.name}" onclick="showDetail('${sw.name}')">
        <div class="swimmer-avatar" style="background:${gc}20;color:${gc}">${initials(sw.name)}</div>
        <span class="swimmer-name">${sw.name}</span>
        <span class="gender-badge" style="color:${sw.gender==='V'?'#f9a8d4':'#93c5fd'}">${genderIcon}</span>
      </div>`;
    });
  });
  list.innerHTML = html;
}

// OVERVIEW PAGE
function buildOverview() {
  const g = {C:[], D:[], O:[]};
  SWIMMERS.forEach(sw => g[getGroup(sw)].push(sw));
  
  let totalPbs = 0;
  SWIMMERS.forEach(sw => totalPbs += Object.keys(sw.pbs_25).length + Object.keys(sw.pbs_50).length);
  
  let html = `<div class="stats-row">
    <div class="stat-card"><div class="stat-num" style="color:var(--cyan)">${SWIMMERS.length}</div><div class="stat-label">Zwemmers</div></div>
    <div class="stat-card"><div class="stat-num" style="color:var(--C-color)">${g.C.length}</div><div class="stat-label">Groep C</div></div>
    <div class="stat-card"><div class="stat-num" style="color:var(--D-color)">${g.D.length}</div><div class="stat-label">Groep D</div></div>
    <div class="stat-card"><div class="stat-num" style="color:var(--old-color)">${g.O.length}</div><div class="stat-label">Ouder</div></div>
    <div class="stat-card"><div class="stat-num" style="color:var(--gold)">${totalPbs}</div><div class="stat-label">PBs totaal</div></div>
  </div>`;
  
  ['C','D','O'].forEach(grp => {
    if (!g[grp].length) return;
    const col = getGroupColor(grp);
    const lbl = getGroupLabel(grp);
    html += `<div class="section-title">${lbl}<span class="badge" style="background:${col}20;color:${col}">${g[grp].length}</span></div>
    <div class="swimmers-grid">`;
    g[grp].forEach(sw => {
      const allStrokes = [...new Set([...Object.keys(sw.pbs_25), ...Object.keys(sw.pbs_50)])];
      const top = allStrokes.slice(0,5).map(s => {
        const b = bestTime(sw,s); 
        return b ? `<div class="pb-row"><span class="pb-stroke">${s}</span><span><span class="pb-time">${b.time}</span><span class="pb-pool">${b.pool}</span></span></div>` : '';
      }).join('');
      const genderChip = `<span style="font-size:11px;color:${sw.gender==='V'?'#f9a8d4':'#93c5fd'}">${sw.gender==='V'?'‚ôÄ':'‚ôÇ'}</span>`;
      html += `<div class="swimmer-card ${grp}" onclick="showDetail('${sw.name}')">
        <div class="card-header">
          <div class="card-avatar" style="background:${col}20;color:${col}">${initials(sw.name)}</div>
          <div>
            <div class="card-name">${sw.name} ${genderChip}</div>
            <div class="card-sub">${sw.birth_year} ¬∑ ${lbl}</div>
          </div>
        </div>
        <div class="pb-list">${top || '<div style="color:var(--muted);font-size:12px">Geen PBs</div>'}</div>
      </div>`;
    });
    html += '</div>';
  });
  
  document.getElementById('page-overview').innerHTML = html;
}

// TIJDEN PAGE
let tijdenStroke = '100 VR', tijdenPool = 'best', tijdenGroup = 'all';
const ALL_STROKES = ['50 VR','100 VR','200 VR','400 VR','800 VR','1500 VR','50 SS','100 SS','200 SS','50 RG','100 RG','200 RG','50 VL','100 VL','200 VL','100 WS','200 WS','400 WS'];

function buildTijden() {
  const strokeOpts = ALL_STROKES.map(s => `<option value="${s}"${s===tijdenStroke?' selected':''}>${s}</option>`).join('');
  
  let html = `<div class="filters">
    <span class="filter-label">Slag:</span>
    <select onchange="tijdenStroke=this.value;renderTijden()">${strokeOpts}</select>
    <span class="filter-label">Baan:</span>
    <button class="filter-btn${tijdenPool==='best'?' active':''}" onclick="tijdenPool='best';document.querySelectorAll('.pool-btn').forEach(b=>b.classList.remove('active'));this.classList.add('active');renderTijden()">Beste</button>
    <button class="filter-btn pool-btn${tijdenPool==='25m'?' active':''}" onclick="tijdenPool='25m';document.querySelectorAll('.pool-btn').forEach(b=>b.classList.remove('active'));this.classList.add('active');renderTijden()">25m</button>
    <button class="filter-btn pool-btn${tijdenPool==='50m'?' active':''}" onclick="tijdenPool='50m';document.querySelectorAll('.pool-btn').forEach(b=>b.classList.remove('active'));this.classList.add('active');renderTijden()">50m</button>
    <span class="filter-label" style="margin-left:8px">Groep:</span>
    <button class="filter-btn${tijdenGroup==='all'?' active':''}" onclick="tijdenGroup='all';document.querySelectorAll('.grp-btn').forEach(b=>b.classList.remove('active'));this.classList.add('active');renderTijden()">Alle</button>
    <button class="filter-btn grp-btn" onclick="tijdenGroup='C';document.querySelectorAll('.grp-btn').forEach(b=>b.classList.remove('active'));this.classList.add('active');renderTijden()">C</button>
    <button class="filter-btn grp-btn" onclick="tijdenGroup='D';document.querySelectorAll('.grp-btn').forEach(b=>b.classList.remove('active'));this.classList.add('active');renderTijden()">D</button>
  </div>
  <div id="tijden-table"></div>`;
  
  document.getElementById('page-tijden').innerHTML = html;
  renderTijden();
}

function renderTijden() {
  let rows = SWIMMERS.map(sw => {
    let t;
    if (tijdenPool==='best') t = bestTime(sw, tijdenStroke);
    else if (tijdenPool==='25m') t = sw.pbs_25[tijdenStroke] ? {time:sw.pbs_25[tijdenStroke],pool:'25m'} : null;
    else t = sw.pbs_50[tijdenStroke] ? {time:sw.pbs_50[tijdenStroke],pool:'50m'} : null;
    return {sw, t, grp:getGroup(sw)};
  }).filter(r => r.t && (tijdenGroup==='all' || r.grp===tijdenGroup));
  
  rows.sort((a,b) => parseTime(a.t.time) - parseTime(b.t.time));
  
  if (!rows.length) { document.getElementById('tijden-table').innerHTML = '<div style="color:var(--muted);padding:20px">Geen tijden beschikbaar voor deze selectie.</div>'; return; }
  
  const fastest = parseTime(rows[0].t.time);
  let tbl = `<table class="times-table"><thead><tr>
    <th>#</th><th>Zwemmer</th><th>Groep</th><th>Tijd</th><th>Baan</th><th>Verschil</th><th style="width:120px">Relatief</th>
  </tr></thead><tbody>`;
  
  rows.forEach((r,i) => {
    const sec = parseTime(r.t.time);
    const diff = sec - fastest;
    const pct = Math.round((sec/fastest)*100);
    const col = getGroupColor(r.grp);
    tbl += `<tr class="${i===0?'rank-1':''}">
      <td class="rank">${i===0?'ü•á':i+1}</td>
      <td><span class="swimmer-link" onclick="showDetail('${r.sw.name}')" style="color:${col}">${r.sw.name}</span></td>
      <td><span style="font-size:12px;color:${col}">${getGroupLabel(r.grp)}</span></td>
      <td class="time-cell" style="color:${i===0?'var(--gold)':'inherit'}">${r.t.time}</td>
      <td><span class="${r.t.pool==='25m'?'badge-25':'badge-50'}">${r.t.pool}</span></td>
      <td class="vs-cell">${diff>0?'+'+diff.toFixed(2)+'s':'‚Äî'}</td>
      <td><div class="prog-bar"><div class="prog-fill" style="width:${(fastest/sec*100).toFixed(1)}%;background:${col}"></div></div></td>
    </tr>`;
  });
  tbl += '</tbody></table>';
  document.getElementById('tijden-table').innerHTML = tbl;
}

// KALENDER PAGE
function buildKalender() {
  // Collect all competitions from all swimmers
  const wedMap = {}; // date+pool -> {swimmers, results}
  SWIMMERS.forEach(sw => {
    ['25','50'].forEach(pool => {
      const key = pool==='25' ? 'wed_25' : 'wed_50';
      Object.entries(sw[key]).forEach(([date, results]) => {
        const k = `${date}|${pool}m`;
        if (!wedMap[k]) wedMap[k] = {date, pool:pool+'m', swimmers:[], resultsMap:{}};
        if (Object.keys(results).length > 0) {
          wedMap[k].swimmers.push(sw.name);
          wedMap[k].resultsMap[sw.name] = results;
        }
      });
    });
  });
  
  const weds = Object.values(wedMap).sort((a,b) => {
    if (a.date !== b.date) return a.date.localeCompare(b.date);
    return a.pool.localeCompare(b.pool);
  });
  
  let html = '<div class="calendar-grid">';
  
  weds.forEach(w => {
    const dt = new Date(w.date);
    const isFuture = dt > TODAY;
    const isPast = dt < TODAY;
    const {day, mon, year} = fmtDateShort(w.date);
    const poolClass = w.pool==='25m'?'m25':'m50';
    const poolCol = w.pool==='25m'?'var(--cyan)':'var(--orange)';
    const countParticipants = w.swimmers.length;
    
    // Build detail table
    const strokes = [...new Set(w.swimmers.flatMap(nm => Object.keys(w.resultsMap[nm]||{})))].sort();
    let detail = '';
    if (strokes.length > 0 && w.swimmers.length > 0) {
      detail += `<div class="wed-detail" id="det-${w.date}-${w.pool}">
        <table class="wed-table">
          <thead><tr><th>Zwemmer</th>${strokes.map(s=>`<th>${s}</th>`).join('')}</tr></thead>
          <tbody>`;
      w.swimmers.forEach(nm => {
        const sw = SWIMMERS.find(s=>s.name===nm);
        const res = w.resultsMap[nm]||{};
        const pbPool = w.pool==='25m'?'pbs_25':'pbs_50';
        detail += `<tr><td style="font-weight:500">${nm}</td>`;
        strokes.forEach(s => {
          const t = res[s];
          if (!t) { detail += '<td style="color:var(--muted)">‚Äî</td>'; return; }
          const isPB = sw && sw[pbPool][s] === t;
          detail += `<td class="time-mono">${t}${isPB?'<span class="pb-marker">PB</span>':''}</td>`;
        });
        detail += '</tr>';
      });
      detail += '</tbody></table></div>';
    }
    
    const noData = countParticipants === 0;
    const future = isFuture ? `<span class="wed-badge future">Gepland</span>` : '';
    const metaText = noData 
      ? (isFuture ? 'Komende wedstrijd' : 'Geen resultaten geregistreerd')
      : `${countParticipants} zwemmer${countParticipants!==1?'s':''} ¬∑ ${strokes.length} nummers`;
    
    html += `<div class="wed-card">
      <div class="wed-header" onclick="toggleWed('${w.date}','${w.pool}')">
        <div class="wed-date-box" style="background:${poolCol}15;color:${poolCol}">
          <span class="day">${day}</span>
          <span class="mon">${mon} '${String(year).slice(-2)}</span>
        </div>
        <div class="wed-info">
          <div class="wed-title">${fmtDate(w.date)}</div>
          <div class="wed-meta">${metaText}</div>
        </div>
        ${future}
        <span class="wed-badge ${poolClass}">${w.pool}</span>
        ${!noData?`<span class="wed-toggle" id="tog-${w.date}-${w.pool}">‚ñº</span>`:''}
      </div>
      ${detail}
    </div>`;
  });
  
  html += '</div>';
  document.getElementById('page-kalender').innerHTML = html;
}

function toggleWed(date, pool) {
  const det = document.getElementById(`det-${date}-${pool}`);
  const tog = document.getElementById(`tog-${date}-${pool}`);
  if (!det) return;
  const open = det.classList.toggle('open');
  if (tog) tog.classList.toggle('open', open);
}

// DETAIL PAGE
function showDetail(name) {
  const sw = SWIMMERS.find(s=>s.name===name);
  if (!sw) return;
  
  document.querySelectorAll('.swimmer-item').forEach(el => el.classList.remove('active'));
  const si = document.getElementById('si-'+name);
  if (si) si.classList.add('active');
  
  const grp = getGroup(sw);
  const col = getGroupColor(grp);
  const allStrokes = [...new Set([...Object.keys(sw.pbs_25), ...Object.keys(sw.pbs_50)])];
  
  // Count competitions attended
  const comps25 = Object.entries(sw.wed_25).filter(([,r])=>Object.keys(r).length>0).length;
  const comps50 = Object.entries(sw.wed_50).filter(([,r])=>Object.keys(r).length>0).length;
  
  let html = `<button class="back-btn" onclick="showPage('overview')">‚Üê Terug naar overzicht</button>
  <div class="detail-header">
    <div class="detail-avatar" style="background:${col}20;color:${col};font-size:22px">${initials(sw.name)}</div>
    <div>
      <div class="detail-name">${sw.name}</div>
      <div class="detail-chips">
        <span class="chip group-${grp}">${getGroupLabel(grp)}</span>
        <span class="chip ${sw.gender==='V'?'female':'male'}">${sw.gender==='V'?'Meisje':'Jongen'}</span>
        <span class="chip" style="background:rgba(255,255,255,0.06);color:var(--muted)">${sw.birth_year}</span>
      </div>
    </div>
    <div class="detail-stats">
      <div class="detail-stat"><div class="detail-stat-num" style="color:${col}">${allStrokes.length}</div><div class="detail-stat-label">Disciplines</div></div>
      <div class="detail-stat"><div class="detail-stat-num" style="color:var(--cyan)">${Object.keys(sw.pbs_25).length}</div><div class="detail-stat-label">PBs 25m</div></div>
      <div class="detail-stat"><div class="detail-stat-num" style="color:var(--orange)">${Object.keys(sw.pbs_50).length}</div><div class="detail-stat-label">PBs 50m</div></div>
      <div class="detail-stat"><div class="detail-stat-num" style="color:var(--green)">${comps25+comps50}</div><div class="detail-stat-label">Wedstrijden</div></div>
    </div>
  </div>`;
  
  // PB table
  if (allStrokes.length) {
    html += `<div class="pb-section">
      <div class="pb-title">Persoonlijke Besttijden</div>
      <table class="pb-full-table">
        <thead><tr><th>Slag</th><th>25m</th><th>50m</th><th>Beste</th></tr></thead>
        <tbody>`;
    allStrokes.forEach(s => {
      const t25 = sw.pbs_25[s], t50 = sw.pbs_50[s];
      const b = bestTime(sw, s);
      html += `<tr>
        <td style="font-weight:500">${s}</td>
        <td class="time-mono">${t25||'‚Äî'}</td>
        <td class="time-mono">${t50||'‚Äî'}</td>
        <td class="time-mono best">${b?b.time+` <span style="font-size:10px;color:var(--muted)">${b.pool}</span>`:'‚Äî'}</td>
      </tr>`;
    });
    html += '</tbody></table></div>';
  }
  
  // Competition history
  const allComps = [];
  Object.entries(sw.wed_25).forEach(([date,res]) => { if(Object.keys(res).length) allComps.push({date,pool:'25m',res}); });
  Object.entries(sw.wed_50).forEach(([date,res]) => { if(Object.keys(res).length) allComps.push({date,pool:'50m',res}); });
  allComps.sort((a,b) => b.date.localeCompare(a.date));
  
  if (allComps.length) {
    html += `<div class="comp-history">
      <div class="comp-history-title">Wedstrijdgeschiedenis (${allComps.length})</div>
      <table class="comp-table">
        <thead><tr><th>Datum</th><th>Baan</th><th>Slag</th><th>Tijd</th><th>PB?</th></tr></thead>
        <tbody>`;
    allComps.forEach(c => {
      const pbPool = c.pool==='25m'?'pbs_25':'pbs_50';
      Object.entries(c.res).forEach(([stroke, time]) => {
        const isPB = sw[pbPool][stroke] === time;
        html += `<tr>
          <td>${fmtDate(c.date)}</td>
          <td><span class="${c.pool==='25m'?'badge-25':'badge-50'}">${c.pool}</span></td>
          <td>${stroke}</td>
          <td class="time-mono">${time}</td>
          <td>${isPB?'<span style="color:var(--gold);font-weight:700">‚òÖ PB</span>':'‚Äî'}</td>
        </tr>`;
      });
    });
    html += '</tbody></table></div>';
  }
  
  document.getElementById('page-detail').innerHTML = html;
  showPage('detail');
  document.getElementById('page-title').textContent = sw.name;
}

// PAGE NAVIGATION
function showPage(p) {
  document.querySelectorAll('.page').forEach(el => el.classList.remove('active'));
  document.querySelectorAll('.nav-btn').forEach(el => el.classList.remove('active'));
  document.getElementById('page-'+p).classList.add('active');
  const navEl = document.getElementById('nav-'+p);
  if (navEl) navEl.classList.add('active');
  
  const titles = {overview:'Overzicht', tijden:'Team Tijden', kalender:'Wedstrijdkalender'};
  if (titles[p]) {
    document.getElementById('page-title').textContent = titles[p];
    document.querySelectorAll('.swimmer-item').forEach(el=>el.classList.remove('active'));
  }
  
  if (p==='tijden' && !document.getElementById('tijden-table')) buildTijden();
  if (p==='kalender' && !document.getElementById('kalender').querySelector('.calendar-grid')) buildKalender();
  
  const metas = {overview:'16 zwemmers ¬∑ Seizoen 2025-2026', tijden:'Rangschikking per slag', kalender:'Alle wedstrijden dit seizoen'};
  document.getElementById('topbar-meta').textContent = metas[p] || '';
}

// INIT
buildSidebar();
buildOverview();

// Pre-build other pages
setTimeout(()=>{ buildTijden(); buildKalender(); }, 100);
</script>
</body>
</html>
